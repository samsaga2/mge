sub init
    load image, "missile.png"
    type 2
    call random_y
    pos arg0, y

    ' current state
    ' 0 - normal
    ' 1 - explosion
    local0 = 0
endsub

sub update
    if local0 = 1 then
       return
    endif

    if collide 3 then
       local0 = 1
       load animation, "explosion.scr"
       return
    endif

    move -1, 0
    if x = 0 then
       call random_y
    endif
endsub

sub random_y
    pos 255, rnd
    if y > 144 then
       call random_y
    endif
endsub